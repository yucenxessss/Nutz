<!DOCTYPE html>
<html>
<head>
    <title>Admin Panel | Nutzu</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<section>
    <h1>ðŸ”’ Admin Panel</h1>

    <div id="loginBox">
        <input type="password" id="password" placeholder="Enter Admin Password">
        <button onclick="login()">Login</button>
    </div>

    <div id="adminContent" style="display:none;">
        <h2>Add Achievement</h2>

        <input type="text" id="title" placeholder="Achievement Title">
        <input type="file" id="imageInput" accept="image/*">
        <button onclick="addAchievement()">Add Achievement</button>

        <h2>Current Achievements</h2>
        <div id="adminList"></div>
    </div>
</section>

<script>
const ADMIN_PASSWORD = "Nutz";

function login() {
    const pass = document.getElementById("password").value;
    if (pass === ADMIN_PASSWORD) {
        document.getElementById("loginBox").style.display = "none";
        document.getElementById("adminContent").style.display = "block";
        loadAdmin();
    } else {
        alert("Wrong password");
    }
}

function addAchievement() {
    const title = document.getElementById("title").value;
    const fileInput = document.getElementById("imageInput");
    const file = fileInput.files[0];

    if (!file || !title) {
        alert("Add title and image");
        return;
    }

    const reader = new FileReader();
    reader.onload = function(e) {
        const achievements = JSON.parse(localStorage.getItem("achievements")) || [];

        achievements.push({
            title: title,
            image: e.target.result
        });

        localStorage.setItem("achievements", JSON.stringify(achievements));

        document.getElementById("title").value = "";
        fileInput.value = "";
        loadAdmin();
    };

    reader.readAsDataURL(file);
}

function loadAdmin() {
    const container = document.getElementById("adminList");
    const achievements = JSON.parse(localStorage.getItem("achievements")) || [];

    container.innerHTML = "";

    achievements.forEach((a, index) => {
        const div = document.createElement("div");
        div.innerHTML = `
            <img src="${a.image}" width="80"><br>
            ${a.title}
            <br>
            <button onclick="deleteAchievement(${index})">Delete</button>
            <hr>
        `;
        container.appendChild(div);
    });
}

function deleteAchievement(index) {
    const achievements = JSON.parse(localStorage.getItem("achievements")) || [];
    achievements.splice(index, 1);
    localStorage.setItem("achievements", JSON.stringify(achievements));
    loadAdmin();
}
</script>

</body>
</html>
